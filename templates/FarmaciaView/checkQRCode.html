<!doctype html>
<html lang="it">

<head>
  <!-- Meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="title" content="SelftTestCOVID19">
  <meta name="description" content="Se presenti dei sintomi e vuoi capire se sei potenzialmente positivo, fai il nostro test. Se il risultato del test è maggiore del 50% ti proporremo in automatico di fare la prenotazione del tampone rapido/molecolare alla farmacia più vicina.">
  <meta name="keywords" content="SelfTestCOVID19, COVID19, Test tamponi, tamponi rapido, tamponi molecolare, prenotazione tampone, prenotazione tampone rapido, prenotazione tampone molecolare, farmacia tamponi, farmacia tampone rapido, farmacia tampone molecolare
  Covid-19, MLOps, SARS-CoV-2 Probability Checker, Covid-19 Probability Checker, SARS-CoV-2 Probability Infection Checker, Covid-19 Probability Infection Checker">
  <meta name="robots" content="index, follow">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="revisit-after" content="1 days">
  <meta name="author" content="Antonio Romano, Giuseppe Riccio">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="./static/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./static/favicon.ico" type="image/x-icon">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <title>Self Test COVID-19 | Check QR Code</title>
</head>

<body>
    <!--NavBar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div style="margin-top: 10px; margin-right: 15px;">
            <a class="navbar-brand" href="#">
                <img src="/static/logo.png" width="30" height="30" alt="">
                <span style="margin-top: 10px; color: white; font-size: 20px ;"><b>Self Test COVID-19</b><br>
                    <p style="font-size: small; text-align: right;">Probability Infection Checker</p></a></span>
            </a>
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/dashboardFarmacia"><i class="fa fa-tachometer" aria-hidden="true"></i>
                        Dashboard </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/"><i class="fa fa-home" aria-hidden="true"></i> Torna alla Home</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <h7 id="displayDateTime" class="nav-link text-white">
                        </h2>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout"><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <center>
            <h2 class="text-center" style="margin: 25px;"><b><span style="color: #006eff;">
                        <i class="fa fa-qrcode" aria-hidden="true"></i> QR Code <i>checker</i></span></b></h2>
    </div>

    <center>
        <h7> Verifica prenotazione del paziente, posiziona il QR code nel riquadro e il sistema riconoscerà la
            prenotazione.</h7>
    </center>

    <div class="d-flex justify-content-center m-5">
        <div class="row">
            <div class="col">
                <div style="width:auto;" id="reader"></div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center m-5">
        <center>
            <h4>
                <p style="color: #006eff;"> Risultato della scansione </p>
            </h4>
            <div class="m-4" id="result"></div>
        </center>
    </div>
</body>

<!--Copyright-->
<!-- Footer -->
<footer class="text-lg text-lg-start bg-white text-muted">
    <!-- Section: Social media -->
    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
    </section>
    <!-- Section: Social media -->
  
    <!-- Section: Links  -->
    <section class="">
      <div class="container text-center text-md-start mt-5">
        <!-- Grid row -->
        <div class="row mt-3">
          <!-- Grid column -->
          <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
            <!-- Content -->
            <h6 class="text-uppercase fw-bold mb-4  text-primary">
              <i class="fas fa-gem me-3"></i>Self Test COVID-19
            </h6>
            <p>
              Prenotazione interattiva in farmacia per la somministrazione e acquisto dei tamponi <b>rapidi/molecolari</b>
            </p>
          </div>
          <!-- Grid column -->
  
          <!-- Grid column -->
          <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
            <!-- Links -->
            <h6 class="text-uppercase fw-bold mb-4  text-primary">
              Policy
            </h6>
            <p>
              <a href="#!" class="text-reset">Privacy Policy</a>
            </p>
            <p>
              <a href="#!" class="text-reset">Cookie Policy</a>
            </p>
            <p>
              <a href="#!" class="text-reset">Condizioni d'uso</a>
            </p>
          </div>
          <!-- Grid column -->
  
          <!-- Grid column -->
          <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
            <!-- Links -->
            <h6 class="text-uppercase fw-bold mb-4  text-primary">
              Accesso al sistema
            </h6>
            <p>
              <a href="/loginFarmacia" class="text-reset">Farmacia</a>
            </p>
            <p>
              <a href="/loginAdmin" class="text-reset">Admin</a>
            </p>
          </div>
          <!-- Grid column -->
  
          <!-- Grid column -->
          <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
            <!-- Links -->
            <h6 class="text-uppercase fw-bold mb-4  text-primary">SOURCE CODE</h6>
            <p>Scopri il codice sorgente del progetto SelfTestCOVID19, è <b>open source</b></p>
            <p><i class="fa fa-github"></i> Visita il nostro <a href="https://github.com/giuseppericcio/SelfTestCovid19">repository</a></p>
          </div>
          <!-- Grid column -->
        </div>
        <!-- Grid row -->
      </div>
    </section>
    <!-- Section: Links  -->
  
    <!-- Copyright -->
    <hr>
    <div class="text-center p-4  text-muted" style="background-color: rgba(255, 255, 255, 0.05);">
      © 2022 Copyright:
      <a class="text-muted fw-bold">Antonio Romano, Giuseppe Riccio</a>
      <small id="dateHelp" class="form-text text-muted text-primary">Il progetto è stato realizzato per soli scopi
        dimostrativi per l'esame del Corso Magistrale di <b>Software Architecture Design</b> all' Università della
        Federico II di Napoli</small>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->


<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
</nav>


<!--JavaScript-->
<!--QRCode Script-->
<script src="/static/html5-qrcode.min.js"></script>
<script type="text/javascript">
    function onScanSuccess(qrCodeMessage) {
        "{% for prenotazione in prenotazioni %}"
        var id = "{{ prenotazione.ID }}"
        if (id == qrCodeMessage) {
            var nome = "{{ prenotazione.Nome }}"
            var cognome = "{{ prenotazione.Cognome }}"
            document.getElementById('result').innerHTML = '\
                        <div class="card-deck">\
                            <div class="card border-success m-3" style="max-width: 18rem;">\
                                <div class="card-body text-success">\
                                    <span class="badge badge-pill badge-success mb-3">Risultato della scansione</span>\
                                    <h5 class="card-title"> Prenotazione <b>nr. ' + qrCodeMessage + '</b> riconosciuta </h5>\
                                    <p class="card-text"> Nome: ' + nome + ' </p>\
                                    <hr><p class="card-text"> Cognome: ' + cognome + ' </p>\
                                </div>\
                            </div>\
                        </div>';
        } else {
            document.getElementById('result').innerHTML = '\
                        <div class="card-deck">\
                            <div class="card border-danger m-3" style="max-width: 18rem;">\
                                <div class="card-body text-danger">\
                                    <span class="badge badge-pill badge-danger mb-3">Risultato della scansione</span>\
                                    <h5 class="card-title"> Prenotazione <b>nr. ' + qrCodeMessage + ' NON</b> riconosciuta </h5>\
                                </div>\
                            </div>\
                        </div>';
        }
        "{% endfor %}"
    }
    function onScanError(errorMessage) {
        //handle scan error
    }
    var html5QrcodeScanner = new Html5QrcodeScanner(
        "reader", { fps: 10, qrbox: 250 });
    html5QrcodeScanner.render(onScanSuccess, onScanError);
</script>
<!--jQuery, Popper.js, Bootstrap JS-->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>